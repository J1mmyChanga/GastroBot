from aiogram import types
from aiogram.filters import CommandStart, Command
from aiogram.utils import markdown
from aiogram.utils.keyboard import ReplyKeyboardBuilder, InlineKeyboardBuilder
from aiogram.enums import ParseMode
from create_entities import *
from misc import *


@dp.message(CommandStart())
async def handle_command_start(message: types.Message):
    text = '–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º, –±–æ—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! ‚úÖ\n–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ –±—ã —Ö–æ—Ç–µ–ª–∏ —Å–¥–µ–ª–∞—Ç—å: üîé'
    kb = [
        [types.KeyboardButton(text='–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Å–≤–æ—ë –±–ª—é–¥–æ üç≥ü•óü•™')],
        [types.KeyboardButton(text='–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç–∑—ã–≤ –æ –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–µ üìù')],
        [types.KeyboardButton(text='–ì–æ–ª–æ—Å –∑–∞ –±–ª—é–¥–æ –≤ —Å–ª–µ–¥—É—é—â–µ–º –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–µ üåØüå≠üçï')],
        [types.KeyboardButton(text='–•–æ—á—É –ø–æ–ª—É—á–∞—Ç—å –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –¥–ª–∏–Ω–µ –æ—á–µ—Ä–µ–¥–∏ üí¨')],
    ]
    keyboard = types.ReplyKeyboardMarkup(
        keyboard=kb,
        resize_keyboard=True,
        input_field_placeholder='–í—ã–±–µ—Ä–∏—Ç–µ –∫–Ω–æ–ø–∫—É',
    )
    await message.answer(
        text=text,
        reply_markup=keyboard,
    )
    session.commit()


@dp.message(Command('help'))
async def handle_command_help(message: types.Message):
    text = markdown.text(
        'üåü ‚òï GastroBot - —Ç–≤–æ—è –∫–Ω–∏–≥–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–µ—Ä–≤–∏—Å–∞ "–ö–µ–π—Ç–µ—Ä–∏–Ω–±—É—Ä–≥" –ø—Ä—è–º–æ –≤ –∫–∞—Ä–º–∞–Ω–µ! üìö üìñ\n',
        'ü•ò –ù–∞—Å–∫—É—á–∏–ª–∏ –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–∏ - –Ω–µ –±–µ–¥–∞! –ü—Ä–æ—Å—Ç–æ –ø—Ä–µ–¥–ª–æ–∂–∏ —Å–≤–æ–π. –ï—Å–ª–∏ —Ç–≤–æ—ë –±–ª—é–¥–æ –æ–∫–∞–∂–µ—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤–∫—É—Å–Ω—ã–º –∏ –µ–≥–æ –æ—Ü–µ–Ω—è—Ç –¥—Ä—É–≥–∏–µ, —Ç–æ –º–æ–∂–µ—à—å –∂–¥–∞—Ç—å –µ–≥–æ –≤ –≥–∞—Å—Ç—Ä–æ–µ–º–∫–æ—Å—Ç—è—Ö –Ω–∞—à–µ–π —Å—Ç–æ–ª–æ–≤–æ–π:) üç± ü´ï \n',
        '‚úç –û—á–µ–Ω—å –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å –±–ª—é–¥–æ –∏–∑ –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–∞ –∏ —Ö–æ—á–µ—à—å, —á—Ç–æ–±—ã –æ–± —ç—Ç–æ–º –∑–Ω–∞–ª–∏ –≤—Å–µ? - –ù–∞–ø–∏—à–∏ —Å–≤–æ–π –æ—Ç–∑—ã–≤ –Ω–∞ —ç—Ç–æ –±–ª—é–¥–æ –ø—Ä—è–º–æ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç–µ! üìù\n',
        'üó≥Ô∏è –•–æ—Ç–∏—Ç–µ —á–∞—â–µ –≤–∏–¥–µ—Ç—å –∫–∞–∫–æ–µ-—Ç–æ –±–ª—é–¥–æ –≤ –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–∞—Ö? - –ü—Ä–æ–≥–æ–ª–æ—Å—É–π—Ç–µ –∑–∞ –Ω–µ–≥–æ –∏ –æ–Ω–æ –±—É–¥–µ—Ç —á–∞—â–µ –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ –ø–æ–ª–∫–∞—Ö –Ω–∞—à–µ–π —Å—Ç–æ–ª–æ–≤–æ–π!\n',
        'üå± –û—Å—Ç–∞–≤–ª—è—è –æ—Ç–∑—ã–≤—ã –Ω–∞ –Ω–∞—à–∏ –±–∏–∑–Ω–µ—Å-–ª–∞–Ω—á–∏, –≥–æ–ª–æ—Å—É—è –∑–∞ –ª—é–±–∏–º—ã–µ –±–ª—é–¥–∞, –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—è –Ω–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –≤—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç–µ –Ω–∞–º –±–µ—Å–ø—Ä–µ—Ä—ã–≤–Ω–æ —É–ª—É—á—à–∞—Ç—å—Å—è –∏ —Ä–∞—Å—Ç–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ.\n',
        'üôè –°–ø–∞—Å–∏–±–æ –≤–∞–º –∑–∞ —ç—Ç–æ! üåüüëè\n',
        sep=' \n '
    )
    await message.answer(
        text=text,
        parse_mode=None,
    )